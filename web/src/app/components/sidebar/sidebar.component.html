<aside class="sidebar" [class.sidebar--open]="open" data-testid="sidebar">
    <div class="sidebar__header">
        <div class="brand">
            <img src="/anthology-logo.png" alt="Anthology logo" class="brand-mark" />
            <div class="brand-copy">
                <span class="brand-title">Anthology</span>
            </div>
        </div>
        <button mat-icon-button type="button" aria-label="Close navigation" (click)="closed.emit()">
            <mat-icon>close</mat-icon>
        </button>
    </div>

    <nav class="nav">
        <div class="nav-section" *ngFor="let item of navItems">
            <a
                class="nav-link"
                [routerLink]="item.route"
                routerLinkActive="active"
                [routerLinkActiveOptions]="exactOptions"
                (click)="handleNavigate(item.route)"
            >
                <mat-icon aria-hidden="true" *ngIf="item.icon">{{ item.icon }}</mat-icon>
                <span>{{ item.label }}</span>
            </a>

            <div class="nav-section__actions" *ngIf="item.actions?.length">
                <button
                    *ngFor="let action of item.actions"
                    mat-stroked-button
                    type="button"
                    class="action-button action-button--inline"
                    [routerLink]="action.route || null"
                    routerLinkActive="action-button--active"
                    [routerLinkActiveOptions]="exactOptions"
                    (click)="handleAction(action.id)"
                >
                    <mat-icon aria-hidden="true" *ngIf="action.icon">{{ action.icon }}</mat-icon>
                    <span>{{ action.label }}</span>
                </button>
            </div>
        </div>
    </nav>

    <div class="actions" *ngIf="actionItems.length">
        <button
            *ngFor="let action of actionItems"
            mat-stroked-button
            type="button"
            class="action-button"
            [routerLink]="action.route || null"
            routerLinkActive="action-button--active"
            [routerLinkActiveOptions]="exactOptions"
            (click)="handleAction(action.id)"
        >
            <mat-icon aria-hidden="true" *ngIf="action.icon">{{ action.icon }}</mat-icon>
            <span>{{ action.label }}</span>
        </button>
    </div>
</aside>
