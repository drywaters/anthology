<div class="filters-panel">
    <div class="filters">
        <mat-form-field appearance="outline" class="type-select">
            <mat-label>Type</mat-label>
            <mat-select [value]="typeFilter()" (valueChange)="onTypeChange($event)">
                @for (option of typeOptions; track option.value) {
                    <mat-option [value]="option.value">
                        {{ option.label }}
                    </mat-option>
                }
            </mat-select>
        </mat-form-field>

        @if (showStatusFilter()) {
            <mat-form-field appearance="outline" class="status-select">
                <mat-label>Reading status</mat-label>
                <mat-select [value]="statusFilter()" (valueChange)="onStatusChange($event)">
                    @for (option of statusOptions; track option.value) {
                        <mat-option [value]="option.value">
                            {{ option.label }}
                        </mat-option>
                    }
                </mat-select>
            </mat-form-field>
        }

        <mat-form-field appearance="outline" class="shelf-status-select">
            <mat-label>Shelf status</mat-label>
            <mat-select [value]="shelfStatusFilter()" (valueChange)="onShelfStatusChange($event)">
                @for (option of shelfStatusOptions; track option.value) {
                    <mat-option [value]="option.value">
                        {{ option.label }}
                    </mat-option>
                }
            </mat-select>
        </mat-form-field>

        <div class="view-toggle" role="group" aria-label="Change view">
            <button
                mat-icon-button
                type="button"
                [class.active]="isTableView()"
                (click)="onViewModeChange('table')"
                aria-label="Switch to list view"
                [attr.aria-pressed]="isTableView()"
            >
                <mat-icon>list</mat-icon>
            </button>
            <button
                mat-icon-button
                type="button"
                [class.active]="isGridView()"
                (click)="onViewModeChange('grid')"
                aria-label="Switch to grid view"
                [attr.aria-pressed]="isGridView()"
            >
                <mat-icon>grid_view</mat-icon>
            </button>
            <button
                mat-icon-button
                type="button"
                [class.active]="isSeriesView()"
                (click)="onViewModeChange('series')"
                aria-label="Switch to series view"
                [attr.aria-pressed]="isSeriesView()"
            >
                <mat-icon>collections_bookmark</mat-icon>
            </button>
        </div>
    </div>
</div>
