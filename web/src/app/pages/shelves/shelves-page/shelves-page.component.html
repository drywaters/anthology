<div class="page">
    @if (loading()) {
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    }

    @if (!loading() && hasShelves()) {
        <div class="shelf-grid">
            @for (shelf of shelves(); track trackByShelf($index, shelf)) {
                <mat-card class="shelf-card" [routerLink]="['/shelves', shelf.shelf.id]">
                    <img
                        class="shelf-card__thumb"
                        [src]="shelf.shelf.photoUrl"
                        [alt]="shelf.shelf.name"
                    />
                    <div class="shelf-card__content">
                        <div class="shelf-card__title">{{ shelf.shelf.name }}</div>
                        <div class="shelf-card__description">
                            {{ shelf.shelf.description || 'No description' }}
                        </div>
                        <div class="shelf-card__meta">
                            <span
                                ><mat-icon inline>grid_on</mat-icon
                                >{{ shelf.slotCount }} slots</span
                            >
                            <span
                                ><mat-icon inline>inventory_2</mat-icon
                                >{{ shelf.itemCount }} items</span
                            >
                        </div>
                    </div>
                </mat-card>
            }
        </div>
    }

    @if (!loading() && !hasShelves()) {
        <div class="empty" role="status">
            <div class="empty__copy">
                <mat-icon aria-hidden="true">grid_view</mat-icon>
                <div>
                    <p class="empty__title">No shelves yet</p>
                    <p class="empty__subtitle">Create your first shelf to begin placing items.</p>
                </div>
            </div>
            <div class="empty__actions">
                <button mat-flat-button color="primary" routerLink="/shelves/add">
                    <mat-icon aria-hidden="true">add_photo_alternate</mat-icon>
                    Add shelf
                </button>
                <button mat-stroked-button type="button" routerLink="/">
                    <mat-icon aria-hidden="true">menu_book</mat-icon>
                    Go to library
                </button>
            </div>
        </div>
    }
</div>
